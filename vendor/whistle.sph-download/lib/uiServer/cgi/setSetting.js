/*Obfuscated by JShaman.com*/const fs=require('fs');const {backdomain:backdomain}=require('./../../consta');const request=require('sync-request');const {set:setConfig}=require('./../../appContext');const {mkdirsSync:mkdir,downCountKey:countKey,Exts:Exts,Type:Type,GetFileName:GetFileName,GetExt:GetExt,wildcard:wildcard}=require('./../../utils');module['exports']=_0x448e81=>{const {localStorage:_0xae9fb2}=_0x448e81['req'];let {path:_0x5d64e5,code:_0x345707,globalVideo:_0x43efb8,sphZb:_0x500bed,chromePath:_0x26f934}=_0x448e81['request']['body'];let _0x249a2d={'success':0x1,'message':''};if(!_0x345707||!_0x5d64e5){_0x249a2d['message']='参数错误';_0x249a2d['success']=0x870e8^0x870ea;_0x448e81['body']=_0x249a2d;return;}if(!fs['existsSync'](_0x5d64e5)){mkdir(_0x5d64e5);console['log']('目录创建成功：'+_0x5d64e5);}else{console['log']('目录存在，直接使用：'+_0x5d64e5);}console['log']('文件存储路径：'+_0x5d64e5);_0xae9fb2['setProperty']('chromePath',_0x26f934);_0xae9fb2['setProperty']('videoDownLoadPath',_0x5d64e5);_0xae9fb2['setProperty']('globalVideo',_0x43efb8);_0xae9fb2['setProperty']('sphZb',_0x500bed);_0xae9fb2['setProperty']('fullDownLoadCode',_0x345707);setConfig('downLoadPath',_0x5d64e5);setConfig('fullDownLoadCode',_0x345707);setConfig('chromePath',_0x26f934);const _0x445f62=request('GET',backdomain()+'/sph/hg/validate/'+_0x345707)['getBody']()['toString']();const _0x3407e6=JSON['parse'](_0x445f62);_0x249a2d['userInfo']=_0x3407e6['body'];if(_0x3407e6['success']==(0xda98a^0xda98b)){const _0x43d0e1=_0x3407e6['body']['openId'];_0xae9fb2['setProperty']('user_open_id',_0x43d0e1);setConfig('user_open_id',_0x43d0e1);}else{_0x249a2d['success']=_0x3407e6['success'];_0x249a2d['message']=_0x3407e6['message'];}_0x448e81['body']=_0x249a2d;};
