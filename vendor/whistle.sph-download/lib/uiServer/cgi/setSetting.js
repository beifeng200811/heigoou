/*Obfuscated by JShaman.com*/const fs=require('fs');const {backdomain:backdomain}=require('./../../consta');const request=require('sync-request');const {set:setConfig}=require('./../../appContext');const {mkdirsSync:mkdir,downCountKey:countKey,Exts:Exts,Type:Type,GetFileName:GetFileName,GetExt:GetExt,wildcard:wildcard}=require('./../../utils');module['exports']=_0x1751fe=>{const {localStorage:_0x20fbc4}=_0x1751fe['req'];let {path:_0x141734,code:_0x2aa138,globalVideo:_0xb91a78,sphZb:_0x29dc56}=_0x1751fe['request']['body'];let _0x1249d5={'success':0x1,'message':''};if(!_0x2aa138||!_0x141734){_0x1249d5['message']='参数错误';_0x1249d5['success']=0x1968f^0x1968d;_0x1751fe['body']=_0x1249d5;return;}if(!fs['existsSync'](_0x141734)){mkdir(_0x141734);console['log']('目录创建成功：'+_0x141734);}else{console['log']('目录存在，直接使用：'+_0x141734);}console['log']('文件存储路径：'+_0x141734);_0x20fbc4['setProperty']('videoDownLoadPath',_0x141734);_0x20fbc4['setProperty']('globalVideo',_0xb91a78);_0x20fbc4['setProperty']('sphZb',_0x29dc56);_0x20fbc4['setProperty']('fullDownLoadCode',_0x2aa138);setConfig('downLoadPath',_0x141734);setConfig('fullDownLoadCode',_0x2aa138);const _0x3c1f62=request('GET',backdomain()+'/sph/hg/validate/'+_0x2aa138)['getBody']()['toString']();const _0x4820c4=JSON['parse'](_0x3c1f62);_0x1249d5['userInfo']=_0x4820c4['body'];if(_0x4820c4['success']==(0x7ac39^0x7ac38)){const _0x40ffef=_0x4820c4['body']['openId'];_0x20fbc4['setProperty']('user_open_id',_0x40ffef);setConfig('user_open_id',_0x40ffef);}else{_0x1249d5['success']=_0x4820c4['success'];_0x1249d5['message']=_0x4820c4['message'];}_0x1751fe['body']=_0x1249d5;};