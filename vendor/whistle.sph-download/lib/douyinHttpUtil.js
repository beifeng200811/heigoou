/*Obfuscated by JShaman.com*/const request=require('sync-request');const cheerio=require('cheerio');const {backdomain:backdomain}=require('./consta');const puppeteer=require('puppeteer');exports['paserSecUid']=function paserSecUid(_0x405ac7,_0x3f491c){var _0x2c47bd=request('POST',backdomain()+'/sph/hg/dy/sec/'+_0x3f491c,{'json':{'url':_0x405ac7}});var _0x4ac209=JSON['parse'](_0x2c47bd['getBody']('utf8'));return _0x4ac209;};exports['paserVideos']=function paserVideos(_0xbc92f0,_0xf1276e){var _0x2359cb='https://www.iesdouyin.com/web/api/v2/aweme/post/?sec_uid='+_0xbc92f0+'&max_cursor='+_0xf1276e+'&count=2000';const _0x2af0ae=request('GET',_0x2359cb)['getBody']()['toString']();return JSON['parse'](_0x2af0ae);};exports['parseUrl']=function parseUrl(_0x5f33b2,_0x29a45e){var _0x453e91=request('POST',backdomain()+'/sph/hg/dy/va/'+_0x5f33b2,{'json':{'url':_0x29a45e}});var _0x299227=JSON['parse'](_0x453e91['getBody']('utf8'));return _0x299227;};exports['requestVideoDetails']=function requestVideoDetails(_0x2ddbe0){const _0x118565=request('GET',_0x2ddbe0)['getBody']()['toString']();return JSON['parse'](_0x118565);};exports['liveWatch']=function liveWatch(_0x41d5e7,_0x221d43){let _0x5f1d33={};const _0x1ad07e=request('GET','https://www.douyin.com/user/'+_0x41d5e7,{'headers':{'accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','accept-language':'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7','cache-control':'no-cache','user-agent':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/101.0.0.0\x20Safari/537.36','pragma':'no-cache','cookie':_0x221d43,'origin':'https://www.douyin.com','referer':'https://www.douyin.com/'}})['getBody']()['toString']();const _0x47f178=cheerio['load'](_0x1ad07e);var _0x2f846f=_0x47f178('#RENDER_DATA')['text']();if(_0x2f846f){const _0x3e1664=decodeURIComponent(_0x2f846f);const _0xd198dc=JSON['parse'](_0x3e1664);var _0x4ee7ee=Object['keys'](_0xd198dc);for(var _0xebf78a=0x771bc^0x771bc;_0xebf78a<_0x4ee7ee['length'];_0xebf78a++){var _0x5027d7=_0x4ee7ee[_0xebf78a];var _0xab04e7=_0xd198dc[_0x5027d7];if(_0xab04e7['hasOwnProperty']('user')){const _0x34951e=_0xab04e7['user'];if(_0x34951e['hasOwnProperty']('user')){const _0x1a5a00=_0x34951e['user'];_0x5f1d33['uid']=_0x1a5a00['uid'];_0x5f1d33['secUid']=_0x1a5a00['secUid'];_0x5f1d33['nickname']=_0x1a5a00['nickname'];_0x5f1d33['desc']=_0x1a5a00['desc'];_0x5f1d33['roomId']=_0x1a5a00['roomId'];_0x5f1d33['ipLocation']=_0x1a5a00['ipLocation'];_0x5f1d33['roomData']=_0x1a5a00['roomData'];_0x5f1d33['awemeCount']=_0x1a5a00['awemeCount'];_0x5f1d33['followingCount']=_0x1a5a00['followingCount'];_0x5f1d33['followerCount']=_0x1a5a00['followerCount'];_0x5f1d33['totalFavorited']=_0x1a5a00['totalFavorited'];_0x5f1d33['age']=_0x1a5a00['age'];_0x5f1d33['avatarUrl']=_0x1a5a00['avatarUrl'];_0x5f1d33['avatar300Url']=_0x1a5a00['avatar300Url'];_0x5f1d33['gender']=_0x1a5a00['gender'];_0x5f1d33['mplatformFollowersCount']=_0x1a5a00['mplatformFollowersCount'];_0x5f1d33['uniqueId']=_0x1a5a00['uniqueId'];}}if(_0xab04e7['hasOwnProperty']('post')){const _0x497152=_0xab04e7['post']['data'];console['log']('首页加载的数据量：'+_0x497152['length']);_0x5f1d33['postData']=_0x497152;}}}else{console['log']('没有找到\x20渲染数据'+_0x1ad07e);}return _0x5f1d33;};exports['defaultCookie']=async function defaultCookie(){let _0x1e16d5='';const _0x38340f=await puppeteer['launch']();const _0x52fb8f=await _0x38340f['newPage']();await _0x52fb8f['goto']('https://www.douyin.com');_0x1e16d5=await _0x52fb8f['evaluate'](()=>document['cookie']);console['log']('cookie\x20:\x20'+_0x1e16d5);await _0x38340f['close']();return _0x1e16d5;};