/*Obfuscated by JShaman.com*/const request=require('sync-request');const cheerio=require('cheerio');const {liveWatch:liveWatch,defaultCookie:defaultCookie}=require('./douyinHttpUtil');exports['paserSecUid']=function paserSecUid(_0xe16479,_0x8ee08d){var _0x5f4cfb=request('POST',backdomain()+'/sph/hg/dy/sec/'+_0x8ee08d,{'json':{'url':_0xe16479}});var _0x551ec8=JSON['parse'](_0x5f4cfb['getBody']('utf8'));return _0x551ec8;};function requestUserHomePage(_0x561b76){let _0x437d3a={};const _0x599c79=request('GET','https://www.douyin.com/user/'+_0x561b76,{'headers':{'accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','accept-language':'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7','cache-control':'no-cache','user-agent':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/101.0.0.0\x20Safari/537.36','pragma':'no-cache','cookie':'__ac_nonce=06389f13500edfd649277;\x20__ac_signature=_02B4Z6wo00f01C94TSwAAIDCXV6VsBai-6gvWGmAAGhea2;\x20__ac_referer=__ac_blank','origin':'https://www.douyin.com','referer':'https://www.douyin.com/'}})['getBody']()['toString']();const _0x49b3e7=cheerio['load'](_0x599c79);var _0x1a12e5=_0x49b3e7('#RENDER_DATA')['text']();if(_0x1a12e5){const _0x5d5cb4=decodeURIComponent(_0x1a12e5);const _0x5635d9=JSON['parse'](_0x5d5cb4);var _0x4b225b=Object['keys'](_0x5635d9);for(var _0x57b986=0x628d9^0x628d9;_0x57b986<_0x4b225b['length'];_0x57b986++){var _0x3afe9d=_0x4b225b[_0x57b986];var _0xfa057b=_0x5635d9[_0x3afe9d];if(_0xfa057b['hasOwnProperty']('user')){const _0x27a688=_0xfa057b['user'];if(_0x27a688['hasOwnProperty']('user')){const _0x2b8766=_0x27a688['user'];_0x437d3a['uid']=_0x2b8766['uid'];_0x437d3a['secUid']=_0x2b8766['secUid'];_0x437d3a['nickname']=_0x2b8766['nickname'];_0x437d3a['desc']=_0x2b8766['desc'];_0x437d3a['roomId']=_0x2b8766['roomId'];_0x437d3a['ipLocation']=_0x2b8766['ipLocation'];_0x437d3a['roomData']=_0x2b8766['roomData'];console['log'](_0x437d3a['roomData']);if(_0x437d3a['roomData']['hasOwnProperty']('stream_url')){const _0x3339f0=_0x437d3a['roomData']['stream_url']['flv_pull_url'];for(flv in _0x3339f0){console['log']('xxx');console['log'](flv+'\x20\x20'+_0x3339f0[flv]);}}else{}}}}console['log']('jsondata\x20---------');}else{console['log']('没有找到\x20渲染数据'+_0x599c79);}}function requestLive(_0x82ffad){const _0x3aee9c=request('GET','https://live.douyin.com/'+_0x82ffad,{'headers':{'accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','accept-language':'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7','cache-control':'no-cache','user-agent':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/101.0.0.0\x20Safari/537.36','pragma':'no-cache','cookie':'__ac_nonce=06389f13500edfd649277;\x20__ac_signature=_02B4Z6wo00f01C94TSwAAIDCXV6VsBai-6gvWGmAAGhea2;\x20__ac_referer=__ac_blank','origin':'https://www.douyin.com','referer':'https://www.douyin.com/'}})['getBody']()['toString']();console['log'](_0x3aee9c);const _0x33040d=cheerio['load'](_0x3aee9c);var _0x49f75f=_0x33040d('#RENDER_DATA')['text']();if(_0x49f75f){const _0x19b738=decodeURIComponent(_0x49f75f);console['log'](_0x19b738);console['log']('jsondata\x20---------');}else{console['log']('没有找到\x20渲染数据'+_0x3aee9c);}}let data=liveWatch('MS4wLjABAAAAOrneEPNQKoNQp-0SgrNfpynGHeZ4S5s2Y5a5niaBx9ptMiXiwaULBtvviD9fFpsq','__ac_nonce=06389f13500edfd649277;\x20__ac_signature=_02B4Z6wo00f01C94TSwAAIDCXV6VsBai-6gvWGmAAGhea2;\x20__ac_referer=__ac_blank');if(data['roomId']){console['log']('直播中：');const roomData=data['roomData'];const stream_url=roomData['stream_url'];const default_resolution=stream_url['default_resolution'];const play_pull_url=stream_url['flv_pull_url'][default_resolution];console['log'](play_pull_url);vid=roomData['owner']['web_rid'];}